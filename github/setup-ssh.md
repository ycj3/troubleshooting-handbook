# GitHub SSH å¯†é’¥é…ç½®æŒ‡å—ï¼ˆmacOSï¼‰

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•åœ¨ macOS ä¸Šç”Ÿæˆå¹¶é…ç½® SSH å¯†é’¥ï¼Œä»¥ä¾¿é€šè¿‡ SSH å®‰å…¨åœ°è¿æ¥åˆ° GitHubã€‚

## 1. æ£€æŸ¥æ˜¯å¦å·²æœ‰ SSH å¯†é’¥

æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
ls -al ~/.ssh
```

å¦‚æœèƒ½çœ‹åˆ°ä»¥ä¸‹æ–‡ä»¶ä¹‹ä¸€ï¼š

```
id_rsa.pub
id_ed25519.pub
```

è¯´æ˜ä½ çš„ç³»ç»Ÿä¸­å·²ç»å­˜åœ¨ SSH å¯†é’¥ã€‚

å¦‚æœæ²¡æœ‰ï¼Œè¯·ç»§ç»­ä¸‹ä¸€æ­¥ç”Ÿæˆæ–°çš„å¯†é’¥ã€‚

## 2. ç”Ÿæˆæ–°çš„ SSH å¯†é’¥

æˆ‘ä»¬å°†åœ¨ `~/.ssh` ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªåä¸º `github_id_ed25519` çš„æ–°å¯†é’¥ï¼š

```bash
ssh-keygen -t ed25519 -C "ä½ çš„GitHubé‚®ç®±" -f ~/.ssh/github_id_ed25519
```

**å‚æ•°è¯´æ˜ï¼š**

- `-t ed25519`ï¼šæŒ‡å®šä½¿ç”¨ Ed25519 ç®—æ³•ï¼ˆæ¨èï¼‰
- `-C`ï¼šæ·»åŠ æ³¨é‡Šï¼Œé€šå¸¸å¡«å†™ä½ çš„ GitHub é‚®ç®±
- `-f`ï¼šæŒ‡å®šå¯†é’¥æ–‡ä»¶åå’Œä¿å­˜è·¯å¾„

ç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥å¯†ç çŸ­è¯­ï¼ˆpassphraseï¼‰ï¼š

- å¯ç›´æ¥æŒ‰å›è½¦è·³è¿‡ï¼›
- æˆ–è¾“å…¥ä¸€ä¸ªå¯†ç ä»¥æé«˜å®‰å…¨æ€§ã€‚

ç”Ÿæˆå®Œæˆåï¼Œå°†å¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶ï¼š

```
~/.ssh/github_id_ed25519        # ç§é’¥ï¼ˆè¯·å¦¥å–„ä¿ç®¡ï¼Œä¸å¯æ³„éœ²ï¼‰
~/.ssh/github_id_ed25519.pub    # å…¬é’¥ï¼ˆå¯å®‰å…¨ä¸Šä¼ è‡³ GitHubï¼‰
```

## 3. å°†å¯†é’¥æ·»åŠ åˆ° SSH Agent

å¯åŠ¨ SSH agent å¹¶æ·»åŠ æ–°å¯†é’¥ï¼š

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/github_id_ed25519
```

## 4. å°†å…¬é’¥æ·»åŠ åˆ° GitHub è´¦æˆ·

æŸ¥çœ‹å¹¶å¤åˆ¶å…¬é’¥å†…å®¹ï¼š

```bash
cat ~/.ssh/github_id_ed25519.pub
```

ç„¶åå‰å¾€ GitHub è®¾ç½®é¡µé¢ï¼š
ğŸ‘‰ [https://github.com/settings/keys](https://github.com/settings/keys)

ç‚¹å‡» **â€œNew SSH keyâ€** â†’ ç²˜è´´å…¬é’¥å†…å®¹ â†’ ç‚¹å‡» **â€œAdd SSH keyâ€** ä¿å­˜ã€‚

## 5. é…ç½® SSH ä½¿ç”¨è¯¥å¯†é’¥

åˆ›å»ºæˆ–ç¼–è¾‘ SSH é…ç½®æ–‡ä»¶ï¼š

```bash
nano ~/.ssh/config
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```bash
Host github.com
  HostName ssh.github.com
  User git
  Port 443
  IdentityFile ~/.ssh/github_id_ed25519
  IdentitiesOnly yes
```

ä¿å­˜å¹¶é€€å‡ºï¼š

- æŒ‰ `Ctrl + O` â†’ å›è½¦ä¿å­˜ï¼›
- æŒ‰ `Ctrl + X` é€€å‡ºç¼–è¾‘ã€‚

## 6. æµ‹è¯• SSH è¿æ¥æ˜¯å¦æˆåŠŸ

æ‰§è¡Œï¼š

```bash
ssh -T git@github.com
```

å¦‚æœæ˜¾ç¤ºï¼š

```
Hi <ä½ çš„GitHubç”¨æˆ·å>! You've successfully authenticated, but GitHub does not provide shell access.
```

ğŸ‰ æ­å–œï¼SSH å¯†é’¥å·²æˆåŠŸé…ç½®ï¼

## 7. ä½¿ç”¨ SSH å…‹éš†ä»“åº“

ç°åœ¨å¯ä»¥é€šè¿‡ SSH å…‹éš†ä½ çš„ GitHub ä»“åº“äº†
